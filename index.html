<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Smart DoorStep - Professional Tech Support Services</title>
  <meta name="description"
    content="Smart DoorStep provides professional tech support services for your home and business. Expert tech help when you need it." />
  <meta name="author" content="SmartDoorstep" />

  <link rel="icon" href="https://img.icons8.com/color/48/computer-support.png" type="image/png" />

  <meta property="og:title" content="SmartDoorstep - Professional Tech Support Services" />
  <meta property="og:description"
    content="Smart DoorStep provides professional tech support services for your home and business. Expert tech help when you need it." />
  <meta property="og:type" content="website" />
  <meta property="og:image"
    content="https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&h=630&q=80" />
  <meta property="og:url" content="https://smartdoorstep.com/" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@smartdoorstep" />
  <meta name="twitter:title" content="Smartdoorstep.com - Professional Tech Support Services" />
  <meta name="twitter:description"
    content="On-demand tech support for homes and offices. Get help with setup, repairs, software, and more." />
  <meta name="twitter:image"
    content="https://images.unsplash.com/photo-1581090700227-1e8e0f0f3c3e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&h=630&q=80" />

  <!-- TrackWiser Analytics Script -->
  <script>
    (function () {
      // TrackWiser configuration
      var trackingCode = 'TW_1753636643460_ymmdlaj3c';
      var apiUrl = 'https://ltluebewuhheisbbjcss.supabase.co/functions/v1/track-event';

      // Generate or get visitor ID
      function getVisitorId() {
        var visitorId = localStorage.getItem('tw_visitor_id');
        if (!visitorId) {
          visitorId = 'visitor_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
          localStorage.setItem('tw_visitor_id', visitorId);
        }
        return visitorId;
      }

      // Generate session ID
      function getSessionId() {
        var sessionId = sessionStorage.getItem('tw_session_id');
        if (!sessionId) {
          sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
          sessionStorage.setItem('tw_session_id', sessionId);
        }
        return sessionId;
      }

      // Send tracking event
      function sendEvent(eventType, eventData) {
        var data = {
          tracking_code: trackingCode,
          event_type: eventType || 'page_view',
          visitor_id: getVisitorId(),
          session_id: getSessionId(),
          page_url: window.location.href,
          referrer: document.referrer || '',
          user_agent: navigator.userAgent,
          timestamp: new Date().toISOString(),
          data: eventData || {}
        };

        // Use fetch to send data
        fetch(apiUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        }).then(function (response) {
          if (response.ok) {
            console.log('TrackWiser: Event sent successfully');
          } else {
            console.error('TrackWiser: Failed to send event');
          }
        }).catch(function (error) {
          console.error('TrackWiser: Error sending event:', error);
        });
      }

      // Track page view on load
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function () {
          sendEvent('page_view');
        });
      } else {
        sendEvent('page_view');
      }

      // Track clicks on important elements
      document.addEventListener('click', function (e) {
        var target = e.target;
        if (target.tagName === 'A' || target.tagName === 'BUTTON' || target.classList.contains('trackable')) {
          sendEvent('click', {
            element: target.tagName,
            text: target.textContent || target.innerText || '',
            href: target.href || '',
            class: target.className || ''
          });
        }
      });

      // Track form submissions
      document.addEventListener('submit', function (e) {
        var form = e.target;
        if (form.tagName === 'FORM') {
          sendEvent('form_submit', {
            form_id: form.id || '',
            form_name: form.name || '',
            action: form.action || ''
          });
        }
      });

      // Track scroll depth
      var maxScroll = 0;
      window.addEventListener('scroll', function () {
        var scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
        if (scrollPercent > maxScroll && scrollPercent % 25 === 0) {
          maxScroll = scrollPercent;
          sendEvent('scroll', { depth: scrollPercent });
        }
      });

      // Track time on page
      var startTime = Date.now();
      window.addEventListener('beforeunload', function () {
        var timeSpent = Math.round((Date.now() - startTime) / 1000);
        sendEvent('time_on_page', { seconds: timeSpent });
      });

      // Expose tracking function globally
      window.trackWiser = {
        track: sendEvent,
        getVisitorId: getVisitorId,
        getSessionId: getSessionId
      };

      console.log('TrackWiser Analytics initialized for Smart Doorstep');
    })();
  </script>
</head>

<body>
  <div id="root"></div>
  <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
  <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
  <script type="module" src="/src/main.tsx"></script>
</body>

</html>