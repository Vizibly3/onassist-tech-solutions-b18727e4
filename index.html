<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Smart DoorStep | Your Smart DoorStep Support</title>
  <meta name="description"
    content="Smart DoorStep provides professional Smart Doorstep services for your home and business. Expert tech help when you need it." />
  <meta name="author" content="SmartDoorstep" />

  <link rel="icon" href="https://img.icons8.com/color/48/computer-support.png" type="image/png" />

  <meta property="og:title" content="SmartDoorstep - Professional Smart Doorstep Services" />
  <meta property="og:description"
    content="Smart DoorStep provides professional Smart Doorstep services for your home and business. Expert tech help when you need it." />
  <meta property="og:type" content="website" />
  <meta property="og:image"
    content="https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&h=630&q=80" />
  <meta property="og:url" content="https://smartdoorstep.com/" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@smartdoorstep" />
  <meta name="twitter:title" content="Smartdoorstep.com - Professional Smart Doorstep Services" />
  <meta name="twitter:description"
    content="On-demand Smart Doorstep for homes and offices. Get help with setup, repairs, software, and more." />
  <meta name="twitter:image"
    content="https://images.unsplash.com/photo-1581090700227-1e8e0f0f3c3e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&h=630&q=80" />

  <!-- TrackWiser Analytics Script -->
  <script>
    (function () {
      // TrackWiser configuration
      var trackingCode = 'r40i6qk7bigaxpwywfqgwp';
      var apiUrl = 'https://ltluebewuhheisbbjcss.supabase.co/functions/v1/track-event';
      var heatmapApiUrl = 'https://ltluebewuhheisbbjcss.supabase.co/functions/v1/track-heatmap';

      // Generate or get visitor ID
      function getVisitorId() {
        var visitorId = localStorage.getItem('tw_visitor_id');
        if (!visitorId) {
          visitorId = 'visitor_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
          localStorage.setItem('tw_visitor_id', visitorId);
        }
        return visitorId;
      }

      // Generate session ID
      function getSessionId() {
        var sessionId = sessionStorage.getItem('tw_session_id');
        if (!sessionId) {
          sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
          sessionStorage.setItem('tw_session_id', sessionId);
        }
        return sessionId;
      }

      // Send tracking event
      function sendEvent(eventType, eventData) {
        var data = {
          tracking_code: trackingCode,
          event_type: eventType || 'page_view',
          visitor_id: getVisitorId(),
          session_id: getSessionId(),
          page_url: window.location.href,
          referrer: document.referrer || '',
          user_agent: navigator.userAgent,
          timestamp: new Date().toISOString(),
          data: eventData || {}
        };

        console.log('TrackWiser: Sending event', eventType, data);

        // Use fetch to send data
        fetch(apiUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        }).then(function (response) {
          return response.json();
        }).then(function (result) {
          if (result.success) {
            console.log('TrackWiser: Event sent successfully', result);
          } else {
            console.error('TrackWiser: Failed to send event', result);
          }
        }).catch(function (error) {
          console.error('TrackWiser: Error sending event:', error);
        });
      }

      // Track page view on load
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function () {
          sendEvent('page_view');
        });
      } else {
        sendEvent('page_view');
      }

      // Send heatmap event
      function sendHeatmapEvent(eventType, element, x, y) {
        // Get better element information
        var elementInfo = '';
        var elementText = '';

        if (element) {
          // Get readable text (prefer text content over inner text)
          elementText = element.textContent?.trim().substring(0, 100) || element.innerText?.trim().substring(0, 100) || '';

          // Create a cleaner selector
          var selector = element.tagName.toLowerCase();

          // Add ID if available
          if (element.id) {
            selector += '#' + element.id;
          }
          // Add a few key classes (max 3) instead of all classes
          else if (element.className) {
            var classes = element.className.split(' ').filter(function (c) {
              return c.length > 0 && !c.includes('bg-') && !c.includes('text-') && !c.includes('border-') && !c.includes('rounded-');
            });
            if (classes.length > 0) {
              selector += '.' + classes.slice(0, 3).join('.');
            }
          }

          // If we have readable text, use it as the main identifier
          if (elementText.length > 0 && elementText.length < 50) {
            elementInfo = elementText;
          } else {
            elementInfo = selector;
          }
        }

        var data = {
          tracking_code: trackingCode,
          event_type: eventType,
          page_url: window.location.href,
          x_position: x,
          y_position: y,
          element_selector: elementInfo,
          element_text: elementText,
          session_id: getSessionId(),
          visitor_id: getVisitorId()
        };

        console.log('TrackWiser: Sending heatmap event', eventType, data);

        fetch(heatmapApiUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        }).catch(function (error) {
          console.error('TrackWiser: Error sending heatmap event', error);
        });
      }

      // Track clicks on important elements
      document.addEventListener('click', function (e) {
        var target = e.target;
        if (target.tagName === 'A' || target.tagName === 'BUTTON' || target.classList.contains('trackable')) {
          sendEvent('click', {
            element: target.tagName,
            text: target.textContent || target.innerText || '',
            href: target.href || '',
            class: target.className || ''
          });
        }

        // Send heatmap click event
        sendHeatmapEvent('click', target, e.clientX, e.clientY);
      });

      // Track form submissions
      document.addEventListener('submit', function (e) {
        var form = e.target;
        if (form.tagName === 'FORM') {
          sendEvent('form_submit', {
            form_id: form.id || '',
            form_name: form.name || '',
            action: form.action || ''
          });

          // Send heatmap form event
          sendHeatmapEvent('form_submit', form, 0, 0);
        }
      });

      // Track scroll depth
      var maxScroll = 0;
      var lastScrollTime = 0;
      window.addEventListener('scroll', function () {
        var scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
        if (scrollPercent > maxScroll && scrollPercent % 25 === 0) {
          maxScroll = scrollPercent;
          sendEvent('scroll', { depth: scrollPercent });
        }

        // Send heatmap scroll event (throttled)
        var now = Date.now();
        if (now - lastScrollTime > 1000) {
          sendHeatmapEvent('scroll', null, 0, window.scrollY);
          lastScrollTime = now;
        }
      });

      // Track hover events (throttled)
      var hoverTimeout;
      document.addEventListener('mouseover', function (e) {
        clearTimeout(hoverTimeout);
        hoverTimeout = setTimeout(function () {
          sendHeatmapEvent('hover', e.target, e.clientX, e.clientY);
        }, 500);
      });

      // Track time on page
      var startTime = Date.now();
      window.addEventListener('beforeunload', function () {
        var timeSpent = Math.round((Date.now() - startTime) / 1000);
        sendEvent('time_on_page', { seconds: timeSpent });
      });

      // Expose tracking function globally
      window.trackWiser = {
        track: sendEvent,
        getVisitorId: getVisitorId,
        getSessionId: getSessionId
      };

      console.log('TrackWiser Analytics initialized for Smart Doorstep');
    })();
  </script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17367029439">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'AW-17367029439');
  </script>
</head>

<body>
  <div id="root"></div>
  <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
  <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
  <script type="module" src="/src/main.tsx"></script>

  <!-- Default Statcounter code for Smart DoorStep https://www.smartdoorstep.com/
  -->
  <script type="text/javascript">
    var sc_project = 13155840;
    var sc_invisible = 1;
    var sc_security = "8186cc85"; 
  </script>
  <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
  <noscript>
    <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
          class="statcounter" src="https://c.statcounter.com/13155840/0/8186cc85/1/" alt="Web Analytics"
          referrerPolicy="no-referrer-when-downgrade"></a></div>
  </noscript>
  <!-- End of Statcounter Code -->

  <!--Use the below code snippet to provide real time updates to the live chat plugin without the need of copying and paste each time to your website when changes are made via PBX-->
  <call-us-selector phonesystem-url="https://1654.3cx.cloud" party="LiveChat653224"></call-us-selector>

  <!--Incase you don't want real time updates to the live chat plugin when options are changed, use the below code snippet. Please note that each time you change the settings you will need to copy and paste the snippet code to your website-->
  <!--<call-us 
phonesystem-url="https://1654.3cx.cloud" 
style="position:fixed;font-size:16px;line-height:17px;z-index: 99999;right: 20px; bottom: 20px;" 
id="wp-live-chat-by-3CX" 
minimized="false" 
animation-style="noanimation" 
party="LiveChat653224" 
minimized-style="bubbleright" 
allow-call="true" 
allow-video="false" 
allow-soundnotifications="true" 
enable-mute="true" 
enable-onmobile="true" 
offline-enabled="true" 
enable="true" 
ignore-queueownership="true" 
authentication="both" 
show-operator-actual-name="true" 
aknowledge-received="true" 
gdpr-enabled="false" 
message-userinfo-format="both" 
message-dateformat="both" 
lang="browser" 
button-icon-type="doublebubble" 
invite-message="Hello, How May I Help You Today ?" 
unavailable-message="Hello, How May I Help You Today ?" 
first-response-message="Facing any issues while setting up your account ?" 
ending-message="Hello, How May I Help You Today ?" 
greeting-visibility="both" 
greeting-offline-visibility="both" 
greeting-message="Hello, How May I Help You Today ?" 
greeting-offline-message="Hello, How May I Help You Today ?" 
chat-delay="2000" 
enable-direct-call="true" 
enable-ga="false" 
></call-us>-->
  <script defer src="https://downloads-global.3cx.com/downloads/livechatandtalk/v1/callus.js" id="tcx-callus-js"
    charset="utf-8"></script>
</body>

</html>